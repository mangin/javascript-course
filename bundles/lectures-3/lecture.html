<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>JS Course</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=792, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="../../node_modules/shower-ribbon/styles/screen.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="list">
<header class="caption">
    <h1>JS Course</h1>
</header>
<section class="slide cover" id="Cover">
    <div>
        <h2>JS Course</h2>

        <p>Brought to you by Mangin Alexander</p>
        <img src="../../pictures/cover.jpg" alt="">
    </div>
</section>

<section class="slide">
    <div>
        <h2>ООП</h2>
    </div>
</section>

<section class="slide">
    <div>
        <h2>ООП</h2>
        <ul>
            <li>Инкапсуляция</li>
            <li>Полиморфизм</li>
            <li>Наследование</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Инкапсуляция</h2>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Инкапсуляция в java-like</h2>
        <pre class="code_size_medium">
            <code>class Car {</code>
            <code>  private int speed;</code>
            <code>  public int getSpeed() {</code>
            <code>    return this.normalize(this.speed);</code>
            <code>  }</code>
            <code>  public void setSpeed(int speed) {</code>
            <code>    this.speed = this.denormalize(speed);</code>
            <code>  }</code>
            <code>  private int normalize(int s) {/**code **/}</code>
            <code>  private int denormalize(int s) {/**code **/}</code>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Инкапсуляция в java-like</h2>
        <pre class="code_size_medium">
            <code>var car = new Car();</code>
            <code>car.setSpeed(60);</code>
            <code>int s = car.getSpeed();</code>
            <code class="next">car.speed = s * 2;</code>
            <code class="next">car.normalize(s * 2);</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Инкапсуляция в js</h2>
        <pre class="code_size_medium">
            <code>(function () {</code>
            <code>  var Car = function () {</code>
            <code>    this.speed = 0;</code>
            <code>    this.setSpeed = function (s) {</code>
            <code>      this.speed = denormalize(s);</code>
            <code>    };</code>
            <code>    this.getSpeed = function () {</code>
            <code>      return normalize(this.speed);</code>
            <code>    };</code>
            <code>  }</code>
            <code>  function denormalize() {/** **/} </code>
            <code>  function normalize() {/** **/} </code>
            <code>  window.Car = Car;</code>
            <code>}());</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Инкапсуляция в js</h2>
        <pre class="code_size_medium">
            <code>var car = new Car();</code>
            <code>car.setSpeed(60);</code>
            <code>condole.log(car.getSpeed());</code>
            <code>console.log(car.speed);</code>
            <code>car.speed = 90</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример:</h2>
        <pre class="code_size_medium">
            <code>(function () {</code>
            <code>  var id = 0;</code>
            <code>  window.getId = function () {</code>
            <code>    return id++;</code>
            <code>  };</code>
            <code>}());</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример:</h2>
        <pre class="code_size_medium">
            <code>getId(); <span class="next">// 0</span></code>
            <code>getId(); <span class="next">// 1</span></code>
            <code>getId(); <span class="next">// 2</span></code>
        </pre>
    </div>
</section>


<section class="slide">
    <div>
        <h2>Пример:</h2>
        <pre class="code_size_medium">
            <code>(function () {</code>
            <code>  var instance;</code>
            <code>  var Lider = function () {</code>
            <code>    if (instance) {</code>
            <code>      return instance;</code>
            <code>    }</code>
            <code>    /** настройка **/</code>
            <code>    instance = this;</code>
            <code>  };</code>
            <code>  window.Lider = Lider;</code>
            <code>}());</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример:</h2>
        <pre class="code_size_medium">
            <code>var a = new Lider(),</code>
            <code>    b = new Lider();</code>
            <code>console.log(a === b);</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Итого:</h2>
        <ul>
            <li>Используйте хорошие практики из других языков</li>
            <li>Используйте 'инкапсуляцию'</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Полиморфизм</h2>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Полиморфизм в java</h2>
        <pre class="code_size_medium">
            <code>interface Figure {</code>
            <code>  Point getStart();</code>
            <code>  Point getEnd();</code>
            <code>}</code>
            <code> </code>
            <code>class Circle:Figure {</code>
            <code>  Point getStart() { /** code **/ }</code>
            <code>  Point getEnd() { /** code **/ }</code>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Полиморфизм в java</h2>
        <pre class="code_size_medium">
            <code>var figure = new Circle();</code>
            <code>  </code>
            <code>figure.getStart();</code>
            <code>figure.getEnd();</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Полиморфизм в java</h2>
        <pre class="code_size_medium">
            <code>var figure = new Figure[]{...};</code>
            <code>  </code>
            <code>fig</code>
            <code>figure.getEnd();</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Полиморфизм в js</h2>
        <ul>
            <li>Интерфейсов - нет</li>
            <li class="next">Но у вас есть голова на плечах</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример</h2>
        <pre class="code_size_medium">
            <code>function Circle() {/* code */}</code>
            <code>function Rectangle() {/* code */}</code>
            <code>  </code>
            <code>var figures = [new Circle(), new Rectangle];</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Итого:</h2>
        <ul>
            <li>Используйте хорошие практики из других языков</li>
            <li>Используйте 'интерфейсы'</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Наследование...</h2>
    </div>
</section>


<section class="slide">
    <div>
        <h2>Сказка о мутантах</h2>
    </div>
</section>


<section class="slide">
    <div>
        <h2>Из чего состоит мутант:</h2>
        <ul>
            <li>Личные свойства</li>
            <li>Родословные свойства</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Действующие лица:</h2>
        <ul>
            <li>Дед</li>
            <li>Отец</li>
            <li>Дочь</li>
            <li>Сын</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Дед: За коммунизм!</h2>
        <ul>
            <li style="color: red">Дед</li>
            <li>Отец</li>
            <li>Дочь</li>
            <li>Сын</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>И пришел коммунизм</h2>
        <ul>
            <li style="color: red">Дед</li>
            <li style="color: red">Отец</li>
            <li style="color: red">Дочь</li>
            <li style="color: red">Сын</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Демократия!:</h2>
        <ul>
            <li style="color: red">Дед</li>
            <li style="color: green">Отец</li>
            <li style="color: red">Дочь</li>
            <li style="color: red">Сын</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Где ваши бюлютени?</h2>
        <ul>
            <li style="color: red">Дед</li>
            <li style="color: green">Отец</li>
            <li style="color: green">Дочь</li>
            <li style="color: green">Сын</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Демократия хороша, но я хочу тоталитаризм</h2>
        <ul>
            <li style="color: red">Дед</li>
            <li style="color: orange">Отец</li>
            <li style="color: green">Дочь</li>
            <li style="color: green">Сын</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Что же такое Объект</h2>
        <p class="next">Это мутант</p>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Личные свойства</h2>
        <pre class="code_size_medium">
            <code>var a = {};</code>
            <code>  </code>
            <code>a.x = 12;</code>
            <code>a.y = 35;</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Родословные свойства свойства</h2>
        <pre class="code_size_medium">
            <code>var a = {};</code>
            <code>  </code>
            <code>console.log(a.__proto__);</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Откуда берутся родословные свойства?</h2>
        <pre class="code_size_medium">
            <code>var a = {};</code>
            <code>  </code>
            <code>console.log(a.__proto__);</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Откуда взялось __proto__?</h2>
        <p class="next">секрет кроектся в new</p>
    </div>
</section>

<section class="slide">
    <div>
        <pre class="code_size_small">
            <code>function new (func, args) {</code>
            <code>  var obj = {},</code>
            <code>      proto = func.prototype;</code>
            <code>  </code>
            <code>  if (typeof proto === 'object' || typeof proto === 'function') {</code>
            <code>    obj.__proto__ = proto;</code>
            <code>  } else {</code>
            <code>    obj.__proto__ = Object.prototype;</code>
            <code>  }</code>
            <code>  var result = func.apply(obj, args);</code>
            <code>  if (typeof result === 'object' || typeof result === 'function') {</code>
            <code>    return result;</code>
            <code>  } else {</code>
            <code>    return obj;</code>
            <code>  }</code>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Вернемся к родословным свойствам</h2>
        <pre class="code_size_small">
            <code>var Person = function (name, surname) {</code>
            <code>    this.name = name;</code>
            <code>    this.surname = surname;</code>
            <code>  }</code>
            <code>  </code>
            <code>Person.prototype.getFullName = function () {</code>
            <code>  return this.name + this.surname;</code>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Занимательный факт</h2>
        <pre class="code_size_small">
            <code>var p1 = new Person('Ivan', 'Ivanov'),</code>
            <code>    p2 = new Person('Petr' , 'Petrov');</code>
            <code>  </code>
            <code>  p1.getFullName == p2.getFullName; <span class="next">// true</span></code>
            <code>  p1 == p2; <span class="next">// false</span></code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример с особой персоной</h2>
        <pre class="code_size_small">
            <code>var president = new Person('Vladimir', 'Putin');</code>
            <code>  </code>
            <code>  president.getFullName = function() {</code>
            <code>    return 'Президент';</code>
            <code>  }</code>
            <code>  </code>
            <code> president.getFullName(); // 'Президент'</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Частные свойства vs родословные(прототипные) свойства</h2>
        <h2 class="next">Свойства экземпляра vs свойства прототипа</h2>
        <ul>
            <li>Свойства прототипа общие на все экземпляры</li>
            <li>Свойства экзепляра индивидуальны для каждого экземпляра</li>
            <li>Имя свойства экземпляра приоритетнее имени свойства прототипа</li>
            <li>Общие свойства нужно хранить в прототипе!</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Вернемся к сказке о мутантах</h2>
        <ul>
            <li>Grandfather</li>
            <li>Father</li>
            <li>Brother1</li>
            <li>Brother2</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Вернемся к сказке о мутантах</h2>
        <pre class="code_size_small">
            <code>function Grandfather() {};</code>
            <code>function Parent() {};</code>
            <code>function Brother1() {};</code>
            <code>function Brother2() {};</code>
            <code>  </code>
            <code>var grandfather = new Grandfather(),</code>
            <code>    parent = new Parent(),</code>
            <code>    brother1 = new Brother1,</code>
            <code>    brother2 = new Brother2;</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Коммунизм!!!</h2>
        <pre class="code_size_small">
            <code>Grandfather.prototype.color = 'red';</code>
            <code> </code>
            <code>condole.log(grandfather.color); <span class="next">// red</span></code>
            <code>condole.log(father.color); <span class="next">// undefined</span></code>
            <code>condole.log(brother1.color); <span class="next">// undefined</span></code>
            <code>condole.log(brother2.color); <span class="next">// undefined</span></code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Как установить прототипные связи</h2>
        <pre class="code_size_small">
            <code>currentObj = this</code>
            <code>Если currentObj.hasOwnProperty(propertyName), то return currentObj[propertyName]</code>
            <code>Если !currentObj.hasOwnProperty(propertyName), то currentObj = currentObj.__proto__</code>
            <code>Если currentObj == null, return undefined</code>
            <code>Иначе goto 2</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Вернемся к сказке о мутантах</h2>
        <pre class="code_size_small">
            <code>function Grandfather() {};</code>
            <code>function Parent() {};</code>
            <code>Parent.prototype = new Grandfather();</code>
            <code>function Brother1() {};</code>
            <code>Brother1.prototype = new Parent();</code>
            <code>function Brother2() {};</code>
            <code>Brother2.prototype = new Parent();</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Дед: Коммунизм!!!</h2>
        <pre class="code_size_small">
            <code>Grandfather.prototype.color = 'red';</code>
            <code> </code>
            <code>condole.log(grandfather.color); <span class="next">// red</span></code>
            <code>condole.log(father.color); <span class="next">// red</span></code>
            <code>condole.log(brother1.color); <span class="next">// red</span></code>
            <code>condole.log(brother2.color); <span class="next">// red</span></code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Отец: демократия!!!</h2>
        <pre class="code_size_small">
            <code>Father.prototype.color = 'green';</code>
            <code> </code>
            <code>condole.log(grandfather.color); <span class="next">// red</span></code>
            <code>condole.log(father.color); <span class="next">// green</span></code>
            <code>condole.log(brother1.color); <span class="next">// green</span></code>
            <code>condole.log(brother2.color); <span class="next">// green</span></code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Демократия хороша, но я хочу попробывать тоталиторизм</h2>
        <pre class="code_size_small">
            <code>father.color = 'orange';</code>
            <code> </code>
            <code>condole.log(grandfather.color); <span class="next">// red</span></code>
            <code>condole.log(father.color); <span class="next">// orange</span></code>
            <code>condole.log(brother1.color); <span class="next">// green</span></code>
            <code>condole.log(brother2.color); <span class="next">// green</span></code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Почему так наследоваться плохо?</h2>
        <pre class="code_size_small">
            <code>function Base() {</code>
            <code>  alert('Muxaxaxa');</code>
            <code>}</code>
            <code>  </code>
            <code>function Child() {}</code>
            <code>Child.prototype = new Base();</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Что хочется?</h2>
        <pre class="code_size_small">
            <code>Создать объект с правильным __proto__</code>
            <code>Избежать вызова конструктора</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>inherit</h2>
        <pre class="code_size_small">
            <code>function inherit(Child, Base) {</code>
            <code>  function Tmp () {};</code>
            <code>  Tmp.prototype = Base.prototype;</code>
            <code>  Child.prototype = new Tmp();</code>
            <code>  return Child;</code>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Есть способ получше</h2>
        <pre class="code_size_small">
            <code>Child = Object.create(Base.prototype);</code>
            <code>  </code>
            <code>// https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/create</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Оператор instanceof</h2>
        <pre class="code_size_small">
            <code>var arr = [];</code>
            <code>  </code>
            <code>arr instanceof Array; <span class="next">// true</span></code>
            <code>arr instanceof Object; <span class="next">// true</span></code>
            <code>arr instanceof Date; <span class="next">// false</span></code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Оператор instanceof</h2>
        <pre class="code_size_small">
            <code>function instanceof(instance, Constructor) {</code>
            <code>  var proto = instance.__proto__;</code>
            <code>  </code>
            <code>  while(proto) {</code>
            <code>    if (Constructor.prototype == proto) {</code>
            <code>      return true;</code>
            <code>    }</code>
            <code>    proto = proto.__proto__;</code>
            <code>  }</code>
            <code>  </code>
            <code>  return false;</code>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Class-ы в js</h2>
        <pre class="code_size_small">
            <code>class Person {</code>
            <code>  constructor(name, surname) {</code>
            <code>    this.name = name;</code>
            <code>    this.surname = surname;</code>
            <code>  },</code>
            <code>  getFullName() {</code>
            <code>    return this.name + ' ' + this.surname;</code>
            <code>  }</code>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Class-ы в js</h2>
        <pre class="code_size_small">
            <code>class Hero extend Person {</code>
            <code>  constructor(name, surname, power) {</code>
            <code>    super(name, surname);</code>
            <code>    this.power = power;</code>
            <code>  },</code>
            <code>  getFullName() {</code>
            <code>    return super.getFullName() + ' with ' + this.power + ' power';</code>
            <code>  }</code>
            <code>}</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Class-ы в js</h2>
        <ul>
            <li>Это только сахар</li>
            <li>Настоящих классов в JS никогда не будет</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>ООП-библиотеки</h2>
        <ul>
            <li>Их over 4000K</li>
            <li>Каждый программист на js должен написать свою ООП библиотеку</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Одна из многих</h2>
        <ul>
            <li>Их over 4000K</li>
            <li>Каждый программист на js должен написать свою ООП библиотеку</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример:</h2>
        <pre>
            <code>var Person = Class.extend({</code>
            <code>  init: function(isDancing){</code>
            <code>    this.dancing = isDancing;</code>
            <code>  },</code>
            <code>  dance: function(){</code>
            <code>    return this.dancing;</code>
            <code>  }</code>
            <code>});</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример:</h2>
        <pre>
            <code>var Ninja = Person.extend({</code>
            <code>  init: function(){</code>
            <code>    this._super( false );</code>
            <code>  },</code>
            <code>  dance: function(){</code>
            <code>    // Вызов родительского метода</code>
            <code>    return this._super();</code>
            <code>  },</code>
            <code>  swingSword: function(){</code>
            <code>    return true;</code>
            <code>  }</code>
            <code>});</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример:</h2>
        <pre>
            <code>var p = new Person(true);</code>
            <code>p.dance(); // => true</code>
            <code> </code>
            <code>var n = new Ninja();</code>
            <code>n.dance(); // => false</code>
            <code>n.swingSword(); // => true</code>
            <code> </code>
            <code class="next">// Все истины</code>
            <code>p instanceof Person && p instanceof Class &&</code>
            <code>n instanceof Ninja && n instanceof Person && n instanceof Class</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Итого:</h2>
        <pre>
            <code>Инкапсуляция</code>
            <code>Полиморфизм</code>
            <code>Наследование</code>
            <code>Обзор ооп библиотеки</code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Ссылки:</h2>
        <pre>
            <code></code>
            <code>Полиморфизм</code>
            <code>Наследование</code>
            <code>Обзор ооп библиотеки</code>
        </pre>
    </div>
</section>

<div class="progress">
    <div></div>
</div>
<script src="../../node_modules/shower-core/shower.min.js"></script>
<!-- Copyright © 2014 Yours Truly, Famous Inc. -->
<!-- Photos by John Carey, fiftyfootshadows.net -->
</body>
</html>